<!-- TODO:-->
<!--Create the Container Page inspired from github repository page-->

{% extends 'details_base.html' %}



{% block entity_identifier %}      

   <a href="{{url_for('index')}}"> container </a>
   /
   <a href="{{url_for('container_details', container=container)}}">{{container.name}}</a>

{% endblock %}


{% block container_action %}

   <div class="ms-auto">
      <div class="btn-group" role="group">
         <button type="button" class="btn btn-sm btn-primary" {%if container.status == 'running'%}disabled{%endif%}>Start</button>
         <button type="button" class="btn btn-sm btn-primary" onclick="{{container.stop()}}" {%if container.status == 'exited'%}disabled{%endif%}>Stop</button>
         <button type="button" class="btn btn-sm btn-primary" {%if container.status == 'exited'%}disabled{%endif%}>Kill</button>
         <button type="button" class="btn btn-sm btn-primary" {%if container.status == 'exited'%}disabled{%endif%}>Restart</button>
      </div>
      <div class="btn-group" role="group">
         <button type="button" class="btn btn-sm btn-primary" {%if container.status == 'exited'%}disabled{%endif%}>Pause</button>
         <button type="button" class="btn btn-sm btn-primary" {%if container.status == 'exited'%}disabled{%endif%}>Resume</button>
      </div>
   </div>

{% endblock %}


{% block entity_content %}

   <div class="container p-4">
      <div class="p-2 mb-3 bg-light rounded-3">
         <div class="container-fluid">
            <table class="table table-hover ">
               <thead>
                  <tr class="d-flex">
                     <th scope="col" class="col-lg-12" colspan="2" style="text-align: left;">Container Details:</th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="d-flex">
                     <td class="col-sm-2">ID:</td>
                     <td class="col-sm-10">{{container.id}}</td>
                  </tr>
                  <tr class="d-flex">
                     <td class="col-sm-2">Image:</td>
                     <td class="col-sm-10">
                        <span class="badge bg-primary">
                           {{','.join(container.image.attrs['RepoTags'])}}
                        </span>
                     </td>
                  </tr>
                  <tr class="d-flex">
                     <td class="col-sm-2">Name:</td>
                     <td class="col-sm-10">{{container.name}}</td>
                  </tr>
                  <tr class="d-flex">
                     <td class="col-sm-2">IP Address:</td>
                     <td class="col-sm-10">{{container.attrs['NetworkSettings']['IPAddress']}}</td>
                  </tr>
                  <tr class="d-flex">
                     <td class="col-sm-2">Status</td>
                     
                        <td class="col-sm-10">
                           {% if container.status == 'running' %}
                           <span class="badge bg-success">
                           {% elif container.status == 'exited' %}
                           <span class="badge bg-secondary">
                           {% endif %}
                              {{ container.status.capitalize() }}
                           </span>
                        </td>
                  </tr>
                  <tr class="d-flex">
                     <td class="col-sm-2">Created</td>
                     <td class="col-sm-10">{{container.attrs['Created']}}</td>
                  </tr>
                  <tr class="d-flex">
                     <td class="col-sm-2">Restart Policy:</td>
                     <td class="col-sm-10">{{container.attrs['HostConfig']['RestartPolicy']['Name'].capitalize()}}</td>
                  </tr>
               </tbody>
            </table>
         </div>
      </div>
      
   </div>

{% endblock %}


{% block inspect_data %}

<table border="1"><tr><th>Id</th><td>c46b90248c553245f9670c06659d985daa4fcd9449a573ef7d4d0a3253292246</td></tr><tr><th>Created</th><td>2021-10-20T04:32:03.296099Z</td></tr><tr><th>Path</th><td>/portainer</td></tr><tr><th>Args</th><td></td></tr><tr><th>State</th><td><table border="1"><tr><th>Status</th><td>exited</td></tr><tr><th>Running</th><td>False</td></tr><tr><th>Paused</th><td>False</td></tr><tr><th>Restarting</th><td>False</td></tr><tr><th>OOMKilled</th><td>False</td></tr><tr><th>Dead</th><td>False</td></tr><tr><th>Pid</th><td>0</td></tr><tr><th>ExitCode</th><td>2</td></tr><tr><th>Error</th><td></td></tr><tr><th>StartedAt</th><td>2021-10-22T16:45:41.2820544Z</td></tr><tr><th>FinishedAt</th><td>2021-10-22T16:48:39.7323744Z</td></tr></table></td></tr><tr><th>Image</th><td>sha256:8bd64518b97697ed2d0d00b5dfd46260f729cdb5ae8120b38e404a05ad08f61b</td></tr><tr><th>ResolvConfPath</th><td>/var/lib/docker/containers/c46b90248c553245f9670c06659d985daa4fcd9449a573ef7d4d0a3253292246/resolv.conf</td></tr><tr><th>HostnamePath</th><td>/var/lib/docker/containers/c46b90248c553245f9670c06659d985daa4fcd9449a573ef7d4d0a3253292246/hostname</td></tr><tr><th>HostsPath</th><td>/var/lib/docker/containers/c46b90248c553245f9670c06659d985daa4fcd9449a573ef7d4d0a3253292246/hosts</td></tr><tr><th>LogPath</th><td>/var/lib/docker/containers/c46b90248c553245f9670c06659d985daa4fcd9449a573ef7d4d0a3253292246/c46b90248c553245f9670c06659d985daa4fcd9449a573ef7d4d0a3253292246-json.log</td></tr><tr><th>Name</th><td>/portainer</td></tr><tr><th>RestartCount</th><td>704</td></tr><tr><th>Driver</th><td>overlay2</td></tr><tr><th>Platform</th><td>linux</td></tr><tr><th>MountLabel</th><td></td></tr><tr><th>ProcessLabel</th><td></td></tr><tr><th>AppArmorProfile</th><td></td></tr><tr><th>ExecIDs</th><td>None</td></tr><tr><th>HostConfig</th><td><table border="1"><tr><th>Binds</th><td><ul><li>Z:\\Installations\\Softwares\\Git\\var\\run\\docker.sock;Z:\\Installations\\Softwares\\Git\\var\\run\\docker.sock</li><li>portainer_data:/z/Installations/docker_volumes/portainer_data</li></ul></td></tr><tr><th>ContainerIDFile</th><td></td></tr><tr><th>LogConfig</th><td><table border="1"><tr><th>Type</th><td>json-file</td></tr><tr><th>Config</th><td></td></tr></table></td></tr><tr><th>NetworkMode</th><td>default</td></tr><tr><th>PortBindings</th><td><table border="1"><tr><th>8000/tcp</th><td><table border="1"><thead><tr><th>HostIp</th><th>HostPort</th></tr></thead><tbody><tr><td></td><td>8000</td></tr></tbody></table></td></tr><tr><th>9443/tcp</th><td><table border="1"><thead><tr><th>HostIp</th><th>HostPort</th></tr></thead><tbody><tr><td></td><td>9443</td></tr></tbody></table></td></tr></table></td></tr><tr><th>RestartPolicy</th><td><table border="1"><tr><th>Name</th><td>always</td></tr><tr><th>MaximumRetryCount</th><td>0</td></tr></table></td></tr><tr><th>AutoRemove</th><td>False</td></tr><tr><th>VolumeDriver</th><td></td></tr><tr><th>VolumesFrom</th><td>None</td></tr><tr><th>CapAdd</th><td>None</td></tr><tr><th>CapDrop</th><td>None</td></tr><tr><th>CgroupnsMode</th><td>host</td></tr><tr><th>Dns</th><td></td></tr><tr><th>DnsOptions</th><td></td></tr><tr><th>DnsSearch</th><td></td></tr><tr><th>ExtraHosts</th><td>None</td></tr><tr><th>GroupAdd</th><td>None</td></tr><tr><th>IpcMode</th><td>private</td></tr><tr><th>Cgroup</th><td></td></tr><tr><th>Links</th><td>None</td></tr><tr><th>OomScoreAdj</th><td>0</td></tr><tr><th>PidMode</th><td></td></tr><tr><th>Privileged</th><td>False</td></tr><tr><th>PublishAllPorts</th><td>False</td></tr><tr><th>ReadonlyRootfs</th><td>False</td></tr><tr><th>SecurityOpt</th><td>None</td></tr><tr><th>UTSMode</th><td></td></tr><tr><th>UsernsMode</th><td></td></tr><tr><th>ShmSize</th><td>67108864</td></tr><tr><th>Runtime</th><td>runc</td></tr><tr><th>ConsoleSize</th><td><ul><li>43</li><li>192</li></ul></td></tr><tr><th>Isolation</th><td></td></tr><tr><th>CpuShares</th><td>0</td></tr><tr><th>Memory</th><td>0</td></tr><tr><th>NanoCpus</th><td>0</td></tr><tr><th>CgroupParent</th><td></td></tr><tr><th>BlkioWeight</th><td>0</td></tr><tr><th>BlkioWeightDevice</th><td></td></tr><tr><th>BlkioDeviceReadBps</th><td>None</td></tr><tr><th>BlkioDeviceWriteBps</th><td>None</td></tr><tr><th>BlkioDeviceReadIOps</th><td>None</td></tr><tr><th>BlkioDeviceWriteIOps</th><td>None</td></tr><tr><th>CpuPeriod</th><td>0</td></tr><tr><th>CpuQuota</th><td>0</td></tr><tr><th>CpuRealtimePeriod</th><td>0</td></tr><tr><th>CpuRealtimeRuntime</th><td>0</td></tr><tr><th>CpusetCpus</th><td></td></tr><tr><th>CpusetMems</th><td></td></tr><tr><th>Devices</th><td></td></tr><tr><th>DeviceCgroupRules</th><td>None</td></tr><tr><th>DeviceRequests</th><td>None</td></tr><tr><th>KernelMemory</th><td>0</td></tr><tr><th>KernelMemoryTCP</th><td>0</td></tr><tr><th>MemoryReservation</th><td>0</td></tr><tr><th>MemorySwap</th><td>0</td></tr><tr><th>MemorySwappiness</th><td>None</td></tr><tr><th>OomKillDisable</th><td>False</td></tr><tr><th>PidsLimit</th><td>None</td></tr><tr><th>Ulimits</th><td>None</td></tr><tr><th>CpuCount</th><td>0</td></tr><tr><th>CpuPercent</th><td>0</td></tr><tr><th>IOMaximumIOps</th><td>0</td></tr><tr><th>IOMaximumBandwidth</th><td>0</td></tr><tr><th>MaskedPaths</th><td><ul><li>/proc/asound</li><li>/proc/acpi</li><li>/proc/kcore</li><li>/proc/keys</li><li>/proc/latency_stats</li><li>/proc/timer_list</li><li>/proc/timer_stats</li><li>/proc/sched_debug</li><li>/proc/scsi</li><li>/sys/firmware</li></ul></td></tr><tr><th>ReadonlyPaths</th><td><ul><li>/proc/bus</li><li>/proc/fs</li><li>/proc/irq</li><li>/proc/sys</li><li>/proc/sysrq-trigger</li></ul></td></tr></table></td></tr><tr><th>GraphDriver</th><td><table border="1"><tr><th>Data</th><td><table border="1"><tr><th>LowerDir</th><td>/var/lib/docker/overlay2/a219df69ba9163c5a6ed36656d06f86c45cd07606c638accab4398039412fcb2-init/diff:/var/lib/docker/overlay2/cbfb584d99632d2459d2d04700fb44f127ed94c8d95f01f8628a08c200ddfdc1/diff:/var/lib/docker/overlay2/208248e80cd47c3d20077c31ab0904f5b46ac4a5b0a0d73572aa24b125c125bb/diff:/var/lib/docker/overlay2/beefdeea40f5fee0b8c63aa51ca1bd7028c5d0213c9a426aa2bdb566787003b6/diff</td></tr><tr><th>MergedDir</th><td>/var/lib/docker/overlay2/a219df69ba9163c5a6ed36656d06f86c45cd07606c638accab4398039412fcb2/merged</td></tr><tr><th>UpperDir</th><td>/var/lib/docker/overlay2/a219df69ba9163c5a6ed36656d06f86c45cd07606c638accab4398039412fcb2/diff</td></tr><tr><th>WorkDir</th><td>/var/lib/docker/overlay2/a219df69ba9163c5a6ed36656d06f86c45cd07606c638accab4398039412fcb2/work</td></tr></table></td></tr><tr><th>Name</th><td>overlay2</td></tr></table></td></tr><tr><th>Mounts</th><td><ul><li><table border="1"><tr><th>Type</th><td>bind</td></tr><tr><th>Source</th><td>Z:\\Installations\\Softwares\\Git\\var\\run\\docker.sock;Z</td></tr><tr><th>Destination</th><td>\\Installations\\Softwares\\Git\\var\\run\\docker.sock</td></tr><tr><th>Mode</th><td></td></tr><tr><th>RW</th><td>True</td></tr><tr><th>Propagation</th><td>rprivate</td></tr></table></li><li><table border="1"><tr><th>Type</th><td>volume</td></tr><tr><th>Name</th><td>portainer_data</td></tr><tr><th>Source</th><td>/var/lib/docker/volumes/portainer_data/_data</td></tr><tr><th>Destination</th><td>/z/Installations/docker_volumes/portainer_data</td></tr><tr><th>Driver</th><td>local</td></tr><tr><th>Mode</th><td>z</td></tr><tr><th>RW</th><td>True</td></tr><tr><th>Propagation</th><td></td></tr></table></li><li><table border="1"><tr><th>Type</th><td>volume</td></tr><tr><th>Name</th><td>d15a08a5c11480d02b8b900208d003efd2821c7b76d581bd058245c843f6df4e</td></tr><tr><th>Source</th><td>/var/lib/docker/volumes/d15a08a5c11480d02b8b900208d003efd2821c7b76d581bd058245c843f6df4e/_data</td></tr><tr><th>Destination</th><td>/data</td></tr><tr><th>Driver</th><td>local</td></tr><tr><th>Mode</th><td></td></tr><tr><th>RW</th><td>True</td></tr><tr><th>Propagation</th><td></td></tr></table></li></ul></td></tr><tr><th>Config</th><td><table border="1"><tr><th>Hostname</th><td>c46b90248c55</td></tr><tr><th>Domainname</th><td></td></tr><tr><th>User</th><td></td></tr><tr><th>AttachStdin</th><td>False</td></tr><tr><th>AttachStdout</th><td>False</td></tr><tr><th>AttachStderr</th><td>False</td></tr><tr><th>ExposedPorts</th><td><table border="1"><tr><th>8000/tcp</th><td></td></tr><tr><th>9000/tcp</th><td></td></tr><tr><th>9443/tcp</th><td></td></tr></table></td></tr><tr><th>Tty</th><td>False</td></tr><tr><th>OpenStdin</th><td>False</td></tr><tr><th>StdinOnce</th><td>False</td></tr><tr><th>Env</th><td><ul><li>PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin</li></ul></td></tr><tr><th>Cmd</th><td>None</td></tr><tr><th>Image</th><td>portainer/portainer-ce:latest</td></tr><tr><th>Volumes</th><td><table border="1"><tr><th>/data</th><td></td></tr></table></td></tr><tr><th>WorkingDir</th><td>/</td></tr><tr><th>Entrypoint</th><td><ul><li>/portainer</li></ul></td></tr><tr><th>OnBuild</th><td>None</td></tr><tr><th>Labels</th><td></td></tr></table></td></tr><tr><th>NetworkSettings</th><td><table border="1"><tr><th>Bridge</th><td></td></tr><tr><th>SandboxID</th><td>3f41740aec77e1b2981ff1eaa7028193fa1accf2d8a0ff519e2dc5c2e8710931</td></tr><tr><th>HairpinMode</th><td>False</td></tr><tr><th>LinkLocalIPv6Address</th><td></td></tr><tr><th>LinkLocalIPv6PrefixLen</th><td>0</td></tr><tr><th>Ports</th><td></td></tr><tr><th>SandboxKey</th><td>/var/run/docker/netns/3f41740aec77</td></tr><tr><th>SecondaryIPAddresses</th><td>None</td></tr><tr><th>SecondaryIPv6Addresses</th><td>None</td></tr><tr><th>EndpointID</th><td></td></tr><tr><th>Gateway</th><td></td></tr><tr><th>GlobalIPv6Address</th><td></td></tr><tr><th>GlobalIPv6PrefixLen</th><td>0</td></tr><tr><th>IPAddress</th><td></td></tr><tr><th>IPPrefixLen</th><td>0</td></tr><tr><th>IPv6Gateway</th><td></td></tr><tr><th>MacAddress</th><td></td></tr><tr><th>Networks</th><td><table border="1"><tr><th>bridge</th><td><table border="1"><tr><th>IPAMConfig</th><td>None</td></tr><tr><th>Links</th><td>None</td></tr><tr><th>Aliases</th><td>None</td></tr><tr><th>NetworkID</th><td>266038a3abe86a63858c4f4646200ffb53ebf06da7cd5dc18a87f5089b148ac8</td></tr><tr><th>EndpointID</th><td></td></tr><tr><th>Gateway</th><td></td></tr><tr><th>IPAddress</th><td></td></tr><tr><th>IPPrefixLen</th><td>0</td></tr><tr><th>IPv6Gateway</th><td></td></tr><tr><th>GlobalIPv6Address</th><td></td></tr><tr><th>GlobalIPv6PrefixLen</th><td>0</td></tr><tr><th>MacAddress</th><td></td></tr><tr><th>DriverOpts</th><td>None</td></tr></table></td></tr></table></td></tr></table></td></tr></table>

{% endblock %}

{% block container_logs %}

   
   <div class="container p-4 ">
      <div class="p-2 mb-3 rounded-3">
         <div class="container-fluid ">
            <div class="card">
               <p class="card-header">Logs for container: {{container.name}} [{{container.short_id}}]</p>
               <div class="card-body logs scroll min-vh-100">
                  {% for log in container_logs %}
                     {{ log }}<br>
                  {% endfor %}
               </div>
            </div>
         </div>
      </div>
   </div>

{% endblock %}